@page "/login"
@inject NavigationManager navManager
@inject AppStateContainer appState

<BSForm Model="loginModel" OnValidSubmit="(() => OnSubmit())">
    <BSFormGroup>
        <BSLabel For="email">Email</BSLabel>
        <BSInput T="string" Id="email" InputType="InputType.Email" @bind-Value="loginModel.Email" />
    </BSFormGroup>
    <BSFormGroup>
        <BSLabel For="password">Lösenord</BSLabel>
        <BSInput T="string" Id="password" InputType="InputType.Password" @bind-Value="loginModel.Password" />
    </BSFormGroup>
    <BSButton ButtonType="ButtonType.Submit">Logga in</BSButton>
</BSForm>

<NavLink href="register">Inget konto? Registrera</NavLink>

@code {

    LoginModel loginModel = new LoginModel();
    //[CascadingParameter] public MainLayout Appstate { get; set; }

    private void OnSubmit()
    {
        //skicka loginModel till api => få tillbaka response =>
        //Appstate.SetIsAuthenticated();
        appState.IsAuth = true;
        navManager.NavigateTo("/account");
    }

}
